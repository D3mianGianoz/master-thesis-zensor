\section{Workflow}
As you will see better in Chapter~\ref{chapter:use_cases} dedicated to practical use cases, my internship has focused more on the last two phases, for obvious reasons of limited time and domain knowledge.
So In this last section I would like to present some peculiar elements and techniques that zensor employs for the data management and analysis phases.

\todo{DG:questa sezione Ã¨ sicuramente da rivedere, magari da rimuovere?}

\subsubsection{Analysis: Structure of a Deployable Script}\label{subsection:script_structure}
\[\begin{tikzcd}
		&& Datasource \\
		&& {} \\
		Load && Process && Write
		\arrow[from=3-1, to=3-3]
		\arrow[from=3-3, to=3-5]
		\arrow[from=1-3, to=3-1]
		\arrow[from=3-5, to=1-3]
	\end{tikzcd}\]

Most scripts that run on the Zensor platform have a very common structure, so for a given time window, they:
\begin{enumerate}
	\item Load batch of data (either raw or from InfluxDB).
	\item Process it in some (clever!) way, e.g.\ computing a derived metric.
	\item Write the results out to InfluxDB, to be shown in a dashboard.
\end{enumerate}
What time window they operate on will depend on what the task is, but also on whether the script is being invoked automatically by cron, a job scheduler on Unix-like OS, or manually.
If a script is being invoked \textit{manually}, this is usually to run it over historical data (e.g.\ rerunning a script for the month of February 2022). We typically call this operation \textbf{backfilling}.
Typically, if the script is running in \textit{cron}, it's loading ``recent'' data (e.g.\ from the past hour or past day) ending at the time the script started.
Scripts on the Zensor platform need to support running in both modes, so there are a few guidelines to keep in mind when writing code.

% https://www.notion.so/zensor/Scripting-Guidelines-8411d59eb62a454d8a5bea728f102bbb
\subsubsection{Data Management flow}
\begin{figure}[ht]
    \centering
    \includegraphics[width=\textwidth]{how_it_works_plan_owner.png}
    \caption{\acl{SaaS} Workflow (Source:~\cite{Misc:zensor_official_website})}
    \label{fig:zensor_flow}
\end{figure}